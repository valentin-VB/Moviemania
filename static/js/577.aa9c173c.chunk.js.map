{"version":3,"file":"static/js/577.aa9c173c.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.js","Services/timeFormater.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { MdArrowBackIosNew } from 'react-icons/md';\n\nexport const Wrapper = styled.div`\n  iframe {\n    width: 100%;\n    height: calc(100vw / 1.77); /* 16:9 */\n  }\n`;\n\nexport const Text = styled.p`\n  color: ${p => p.theme.colors.white};\n  margin-bottom: ${p => p.theme.space[4]}px;\n  font-weight: ${p => p.theme.fontWeights.normal};\n`;\n\nexport const Geners = styled.div`\n  margin-bottom: ${p => p.theme.space[5]}px;\n  display: flex;\n  span {\n    color: ${p => p.theme.colors.accentText};\n    font-size: ${p => p.theme.fontSizes.s};\n    font-weight: ${p => p.theme.fontWeights.normal};\n    border: 2px solid ${p => p.theme.colors.text};\n    border-radius: ${p => p.theme.radii.md};\n    padding: ${p => p.theme.space[2]}px ${p => p.theme.space[4]}px;\n    margin-right: ${p => p.theme.space[4]}px;\n  }\n`;\n\nexport const Heading = styled.h3`\n  color: ${p => p.theme.colors.white};\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\n\nexport const BackIcon = styled(MdArrowBackIosNew)``;\n\nexport const StyledLink = styled(NavLink)`\n  color: ${p => p.theme.colors.accentText};\n  margin-right: ${p => p.theme.space[4]}px;\n  text-decoration: none;\n`;\n","export function toHoursAndMinutes(totalMinutes) {\n  const minutes = totalMinutes % 60;\n  const hours = Math.floor(totalMinutes / 60);\n\n  return `${padTo2Digits(hours)}:${padTo2Digits(minutes)}`;\n}\n\nfunction padTo2Digits(num) {\n  return num.toString().padStart(2, '0');\n}\n","import { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { fetchConfig, fetchMovieDetails } from 'Services/api';\nimport { useState, useEffect } from 'react';\nimport { Box } from 'components/Reusable Components/Box';\nimport Loader from 'components/Reusable Components/Loader';\nimport { StyledNavLink } from 'components/StyledNavLink/StyledNavLink';\nimport {\n  BackIcon,\n  Text,\n  Wrapper,\n  Geners,\n  Heading,\n  StyledLink,\n} from './MovieDetails.styled';\nimport { toHoursAndMinutes } from 'Services/timeFormater';\n\nfunction MovieDetails() {\n  const [movieDetails, setMovieDetails] = useState(null);\n  console.log('movieDetails', movieDetails);\n  const [loading, setLoading] = useState(false);\n  const [config, setConfig] = useState(null);\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/trending';\n\n  useEffect(() => {\n    setLoading(true);\n\n    const fetchData = async () => {\n      try {\n        const movieDetails = await fetchMovieDetails(movieId);\n        setMovieDetails(movieDetails);\n        setLoading(false);\n      } catch (error) {\n        console.warn(error);\n      }\n\n      try {\n        const config = await fetchConfig();\n        setConfig(config);\n      } catch (error) {\n        console.warn(error);\n      }\n    };\n\n    fetchData();\n  }, [movieId]);\n\n  if (movieDetails === null || config === null) {\n    return;\n  }\n\n  const { title, overview, genres, videos, release_date, runtime, imdb_id } =\n    movieDetails;\n\n  const findTrailer = () => {\n    const trailer = videos.results.find(video =>\n      video.name.toLowerCase().includes('trailer')\n    );\n\n    const URL = `https://www.youtube.com/embed/${trailer.key}`;\n\n    console.log('URL', URL);\n    return URL;\n  };\n\n  return (\n    <Box p=\"16px\">\n      {loading && <Loader></Loader>}\n      <StyledNavLink to={backLinkHref}>\n        <BackIcon></BackIcon>\n        Back to Movies\n      </StyledNavLink>\n      <Box>\n        <Wrapper>\n          <iframe\n            title={title}\n            id=\"ytplayer\"\n            src={findTrailer()}\n            frameBorder=\"0\"\n            allowFullScreen\n            allow=\"autoplay; encrypted-media\"\n          ></iframe>\n        </Wrapper>\n        <Text>\n          {`${title} • ${release_date.slice(0, 4)} • ${toHoursAndMinutes(\n            runtime\n          )}`}{' '}\n          •<a href={`https://www.imdb.com/title/${imdb_id}/`}> IMDb</a>\n        </Text>\n        <Geners>\n          {genres.map(genr => (\n            <span>{genr.name}</span>\n          ))}\n        </Geners>\n        <Heading>Overview</Heading>\n        <Text>{overview}</Text>\n      </Box>\n      <StyledLink to=\"cast\">Cast</StyledLink>\n      <StyledLink to=\"reviews\">Reviews</StyledLink>\n      <Outlet context={[movieDetails, config]} />\n    </Box>\n  );\n}\n\nexport default MovieDetails;\n"],"names":["Wrapper","styled","Text","p","theme","colors","white","space","fontWeights","normal","Geners","accentText","fontSizes","s","text","radii","md","Heading","BackIcon","MdArrowBackIosNew","StyledLink","NavLink","toHoursAndMinutes","totalMinutes","minutes","hours","Math","floor","padTo2Digits","num","toString","padStart","useState","movieDetails","setMovieDetails","console","log","loading","setLoading","config","setConfig","movieId","useParams","backLinkHref","useLocation","state","from","useEffect","fetchData","fetchMovieDetails","warn","fetchConfig","title","overview","genres","videos","release_date","runtime","imdb_id","Box","Loader","StyledNavLink","to","id","src","trailer","results","find","video","name","toLowerCase","includes","URL","key","findTrailer","frameBorder","allowFullScreen","allow","slice","href","map","genr","context"],"sourceRoot":""}