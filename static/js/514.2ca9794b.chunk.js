"use strict";(self.webpackChunkmoviemania=self.webpackChunkmoviemania||[]).push([[514],{8801:function(n,e,t){var r=t(2982),i=t(5861),o=t(885),c=t(4687),s=t.n(c),a=t(2791),u=t(7480);e.Z=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,c=(0,a.useState)([]),h=(0,o.Z)(c,2),f=h[0],l=h[1],d=(0,a.useState)(!1),p=(0,o.Z)(d,2),x=p[0],m=p[1],g=(0,a.useState)(!1),v=(0,o.Z)(g,2),b=v[0],Z=v[1],j=(0,a.useState)(null),w=(0,o.Z)(j,2),y=w[0],S=w[1],k=(0,a.useState)(null),P=(0,o.Z)(k,2),C=P[0],F=P[1],I=(0,a.useState)(!1),O=(0,o.Z)(I,2),z=O[0],L=O[1],N=function(){l([])};return(0,a.useEffect)((function(){if(""!==t){m(!0);var o=function(){var o=(0,i.Z)(s().mark((function i(){var o,c;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e(n,t);case 3:return o=i.sent,i.next=6,(0,u.Q2)();case 6:c=i.sent,S(c),l((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(o))})),Z(Boolean(o.length)),m(!1),L(!0),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(0),console.warn(i.t0),F(i.t0);case 18:return i.prev=18,m(!1),L(!1),i.finish(18);case 22:case"end":return i.stop()}}),i,null,[[0,14,18,22]])})));return function(){return o.apply(this,arguments)}}();o()}}),[e,n,t]),{isLoading:x,results:f,hasNextPage:b,error:C,config:y,isFetched:z,handleSearchbarSubmit:N}}},1801:function(n,e,t){function r(n){var e=n.movieCard,t=n.hasNextPage,r=n.isLoading,i=n.addPage,o=n.intObserver;r||(o.current&&o.current.disconnect(),e&&(o.current=new IntersectionObserver((function(n){n[0].isIntersecting&&t&&i()})),o.current.observe(e)))}t.d(e,{X:function(){return r}})},2810:function(n,e,t){t.d(e,{Z:function(){return d}});var r,i,o=t(885),c=t(2791),s=t(1213),a=t(168),u=t(6444),h=(0,u.F4)(r||(r=(0,a.Z)(["\n  0% {\n    transform: translateY(30%);\n  }\n  50% {\n    transform: translateY(0%);\n  }\n  100% {\n    transform: translateY(30%);\n  }\n"]))),f=u.ZP.a(i||(i=(0,a.Z)(["\n  position: fixed;\n  bottom: ","px;\n  right: ","px;\n  text-decoration: none;\n  color: ",";\n  animation: "," 2s ease-in-out infinite;\n  :hover {\n    color: ",";\n  }\n\n  svg {\n    width: 60px;\n    height: auto;\n  }\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]}),(function(n){return n.theme.colors.accent}),h,(function(n){return n.theme.colors.accentText})),l=t(184);var d=function(n){var e=n.firstElRef,t=(0,c.useState)(!1),r=(0,o.Z)(t,2),i=r[0],a=r[1],u=new IntersectionObserver((function(n){n[0].isIntersecting?a(!1):a(!0)}),{root:null,threshold:[0]});return e.current&&u.observe(e.current),i&&(0,l.jsx)(f,{href:"#top",children:(0,l.jsx)(s.GYO,{})})}},1514:function(n,e,t){t.r(e),t.d(e,{default:function(){return F}});var r,i,o,c=t(885),s=t(1087),a=t(7689),u=t(2791),h=t(1413),f=t(887),l=t(168),d=t(6444),p=d.ZP.form(r||(r=(0,l.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  position: relative;\n  padding-right: ","px;\n  padding-left: ","px;\n  @media screen and (min-width: ",") {\n    display: inline;\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.sizes.pc})),x=d.ZP.input(i||(i=(0,l.Z)(["\n  display: inline-block;\n  background-color: ",";\n  color: ",";\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 30px;\n  width: 100%;\n  max-width: 600px;\n  font: inherit;\n  /* font-size: 30px; */\n  border: none;\n  outline: none;\n  padding-left: ","px;\n  padding-top: ","px;\n  padding-bottom: ","px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"])),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),m=d.ZP.button(o||(o=(0,l.Z)(["\n  display: inline-block;\n  position: absolute;\n  background-color: ",";\n  right: ","px;\n  width: 64px;\n  height: 64px;\n  border: 0;\n  border-radius: 30px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  svg {\n    width: 20px;\n    height: auto;\n  }\n\n  :hover {\n    opacity: 1;\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.space[4]})),g=t(1578),v=t(8963),b=t(184),Z=function(n){var e=n.onSubmit,t=(0,f.cI)(),r=t.register,i=t.handleSubmit,o=t.reset;return(0,b.jsx)(v.x,{textAlign:"center",mt:"32px",pl:"32px",pr:"32px",children:(0,b.jsxs)(p,{onSubmit:i((function(n){!function(n){""!==n.searchQuery.trim()&&(e(n.searchQuery),o())}(n)})),children:[(0,b.jsx)(x,(0,h.Z)((0,h.Z)({},r("searchQuery")),{},{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search for movies"})),(0,b.jsx)(m,{children:(0,b.jsx)(g.adB,{})})]})})},j=t(7480),w=t(8954),y=t(8801),S=t(4139),k=t(3409),P=t(2810),C=t(1801);var F=function(){var n,e=(0,s.lr)(),t=(0,c.Z)(e,1)[0],r=(0,a.s0)(),i=(0,u.useState)(1),o=(0,c.Z)(i,2),h=o[0],f=o[1],l=null!==(n=t.get("query"))&&void 0!==n?n:"",d=(0,y.Z)(h,j.mv,l),p=d.isLoading,x=d.results,m=d.hasNextPage,g=d.error,F=d.config,I=d.isFetched,O=d.handleSearchbarSubmit,z=function(){f((function(n){return n+1}))},L=(0,u.useRef)(),N=(0,u.useRef)(),Q=(0,u.useCallback)((function(n){var e={movieCard:n,hasNextPage:m,isLoading:p,addPage:z,intObserver:L};(0,C.X)(e)}),[p,m]),R=x.map((function(n,e){return x.length===e+1?(0,b.jsx)(k.Z,{ref:Q,movie:n,config:F},n.id):1===e?(0,b.jsx)(k.Z,{ref:N,movie:n,config:F},n.id):(0,b.jsx)(k.Z,{movie:n,config:F},n.id)}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z,{onSubmit:function(n){r({pathname:"/movies",search:"?query=".concat(n)}),O(),f(1)}}),g&&(0,b.jsxs)(v.x,{p:"16px",color:"white",children:["Whoops, something went wrong: ",g.message]}),x.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(S.aV,{children:R}),(0,b.jsx)(P.Z,{firstElRef:N})]}),I&&!p&&0===x.length&&(0,b.jsx)(v.x,{p:"16px",color:"white",children:"Sorry, no movie found for this search query :("}),p&&(0,b.jsx)(w.Z,{})]})}}}]);
//# sourceMappingURL=514.2ca9794b.chunk.js.map